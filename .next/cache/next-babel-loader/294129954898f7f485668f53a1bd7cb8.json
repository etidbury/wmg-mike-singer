{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport Post from '../components/post';\n\nvar _default =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_default, _Component);\n\n  _createClass(_default, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, postList;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('https://jsonplaceholder.typicode.com/posts?_page=1');\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                postList = _context.sent;\n                return _context.abrupt(\"return\", {\n                  postList: postList\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      postList: []\n    });\n\n    _this.state.postList = props.postList;\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setTimeout(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee2() {\n                  var response, postList;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return fetch('https://jsonplaceholder.typicode.com/posts?_page=1');\n\n                        case 2:\n                          response = _context2.sent;\n                          _context2.next = 5;\n                          return response.json();\n\n                        case 5:\n                          postList = _context2.sent;\n\n                          _this2.setState({\n                            postList: _toConsumableArray(_this2.state.postList.concat(postList))\n                          });\n\n                        case 7:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                })), 3000);\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"main\", null, __jsx(Head, null, __jsx(\"title\", null, \"Home page\")), __jsx(\"h1\", null, \"List of posts\"), __jsx(\"section\", null, this.state.postList.map(function (post, idx) {\n        return __jsx(Post, _extends({}, post, {\n          key: idx\n        }));\n      })));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/edwardtidbury/Documents/wmg-mike-singer/pages/index.js"],"names":["Component","Head","fetch","Post","response","json","postList","props","state","setTimeout","setState","concat","map","post","idx"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;;;;;;;;;;;;;;;;;;;uBAK2BD,KAAK,CAC1B,oDAD0B,C;;;AAAtBE,gBAAAA,Q;;uBAGiBA,QAAQ,CAACC,IAAT,E;;;AAAjBC,gBAAAA,Q;iDACC;AAAEA,kBAAAA,QAAQ,EAARA;AAAF,iB;;;;;;;;;;;;;;;;;;AAMT,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,kFAAMA,KAAN;;AADgB,4DAJZ;AACJD,MAAAA,QAAQ,EAAC;AADL,KAIY;;AAEhB,UAAKE,KAAL,CAAWF,QAAX,GAAsBC,KAAK,CAACD,QAA5B;AAFgB;AAGjB;;;;;;;;;;;;;;AAGCG,gBAAAA,UAAU;AAAA;AAAA;AAAA;AAAA,yCAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEcP,KAAK,CAC1B,oDAD0B,CAFnB;;AAAA;AAEHE,0BAAAA,QAFG;AAAA;AAAA,iCAMcA,QAAQ,CAACC,IAAT,EANd;;AAAA;AAMHC,0BAAAA,QANG;;AAQT,0BAAA,MAAI,CAACI,QAAL,CAAc;AACZJ,4BAAAA,QAAQ,qBAAK,MAAI,CAACE,KAAL,CAAWF,QAAX,CAAoBK,MAApB,CAA2BL,QAA3B,CAAL;AADI,2BAAd;;AARS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAD,IAWR,IAXQ,CAAV;;;;;;;;;;;;;;;;;;6BAcQ;AACR,aACE,oBACE,MAAC,IAAD,QACE,iCADF,CADF,EAKE,kCALF,EAOE,uBACG,KAAKE,KAAL,CAAWF,QAAX,CAAoBM,GAApB,CAAwB,UAACC,IAAD,EAAMC,GAAN;AAAA,eACvB,MAAC,IAAD,eAAUD,IAAV;AAAgB,UAAA,GAAG,EAAEC;AAArB,WADuB;AAAA,OAAxB,CADH,CAPF,CADF;AAeD;;;;EAjD0Bd,S","sourcesContent":["import { Component } from 'react'\nimport Head from 'next/head'\nimport fetch from 'isomorphic-unfetch'\n\nimport Post from '../components/post'\n\nexport default class extends Component {\n  static async getInitialProps () {\n    // fetch list of posts\n    const response = await fetch(\n      'https://jsonplaceholder.typicode.com/posts?_page=1'\n    )\n    const postList = await response.json()\n    return { postList }\n  }\n  state={\n    postList:[]\n  }\n\n  constructor(props){\n    super(props)\n    this.state.postList = props.postList\n  }\n  async componentDidMount() {\n\n    setTimeout(async ()=>{\n\n      const response = await fetch(\n        'https://jsonplaceholder.typicode.com/posts?_page=1'\n      )\n\n      const postList = await response.json()\n\n      this.setState({\n        postList:[...this.state.postList.concat(postList)]\n      })\n    },3000)\n  }\n\n  render () {\n    return (\n      <main>\n        <Head>\n          <title>Home page</title>\n        </Head>\n\n        <h1>List of posts</h1>\n\n        <section>\n          {this.state.postList.map((post,idx) => (\n            <Post {...post} key={idx} />\n          ))}\n        </section>\n      </main>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}