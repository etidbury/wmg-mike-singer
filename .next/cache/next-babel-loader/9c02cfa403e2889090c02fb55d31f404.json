{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from 'react';\nimport Head from 'next/head';\nimport fetch from 'isomorphic-unfetch';\nimport Post from '../components/post';\nexport default class extends Component {\n  static async getInitialProps() {\n    // fetch list of posts\n    const response = await fetch('https://jsonplaceholder.typicode.com/posts?_page=1');\n    const postList = await response.json();\n    return {\n      postList\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      postList: []\n    });\n\n    this.state.postList = props.postList;\n  }\n\n  async componentDidMount() {\n    setTimeout(async () => {\n      const response = await fetch('https://jsonplaceholder.typicode.com/posts?_page=1');\n      const postList = await response.json();\n      this.setState({\n        postList: [...this.state.postList.concat(postList)]\n      });\n    }, 3000);\n  }\n\n  render() {\n    return __jsx(\"main\", null, __jsx(Head, null, __jsx(\"title\", null, \"Home page\")), __jsx(\"h1\", null, \"List of posts\"), __jsx(\"section\", null, this.state.postList.map((post, idx) => __jsx(Post, _extends({}, post, {\n      key: idx\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/edwardtidbury/Documents/wmg-mike-singer/pages/index.js"],"names":["Component","Head","fetch","Post","getInitialProps","response","postList","json","constructor","props","state","componentDidMount","setTimeout","setState","concat","render","map","post","idx"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,eAAe,cAAcH,SAAd,CAAwB;AACrC,eAAaI,eAAb,GAAgC;AAC9B;AACA,UAAMC,QAAQ,GAAG,MAAMH,KAAK,CAC1B,oDAD0B,CAA5B;AAGA,UAAMI,QAAQ,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAvB;AACA,WAAO;AAAED,MAAAA;AAAF,KAAP;AACD;;AAKDE,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,mCAJZ;AACJH,MAAAA,QAAQ,EAAC;AADL,KAIY;;AAEhB,SAAKI,KAAL,CAAWJ,QAAX,GAAsBG,KAAK,CAACH,QAA5B;AACD;;AACD,QAAMK,iBAAN,GAA0B;AAExBC,IAAAA,UAAU,CAAC,YAAU;AAEnB,YAAMP,QAAQ,GAAG,MAAMH,KAAK,CAC1B,oDAD0B,CAA5B;AAIA,YAAMI,QAAQ,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAvB;AAEA,WAAKM,QAAL,CAAc;AACZP,QAAAA,QAAQ,EAAC,CAAC,GAAG,KAAKI,KAAL,CAAWJ,QAAX,CAAoBQ,MAApB,CAA2BR,QAA3B,CAAJ;AADG,OAAd;AAGD,KAXS,EAWR,IAXQ,CAAV;AAYD;;AAEDS,EAAAA,MAAM,GAAI;AACR,WACE,oBACE,MAAC,IAAD,QACE,iCADF,CADF,EAKE,kCALF,EAOE,uBACG,KAAKL,KAAL,CAAWJ,QAAX,CAAoBU,GAApB,CAAwB,CAACC,IAAD,EAAMC,GAAN,KACvB,MAAC,IAAD,eAAUD,IAAV;AAAgB,MAAA,GAAG,EAAEC;AAArB,OADD,CADH,CAPF,CADF;AAeD;;AAjDoC","sourcesContent":["import { Component } from 'react'\nimport Head from 'next/head'\nimport fetch from 'isomorphic-unfetch'\n\nimport Post from '../components/post'\n\nexport default class extends Component {\n  static async getInitialProps () {\n    // fetch list of posts\n    const response = await fetch(\n      'https://jsonplaceholder.typicode.com/posts?_page=1'\n    )\n    const postList = await response.json()\n    return { postList }\n  }\n  state={\n    postList:[]\n  }\n\n  constructor(props){\n    super(props)\n    this.state.postList = props.postList\n  }\n  async componentDidMount() {\n\n    setTimeout(async ()=>{\n\n      const response = await fetch(\n        'https://jsonplaceholder.typicode.com/posts?_page=1'\n      )\n\n      const postList = await response.json()\n\n      this.setState({\n        postList:[...this.state.postList.concat(postList)]\n      })\n    },3000)\n  }\n\n  render () {\n    return (\n      <main>\n        <Head>\n          <title>Home page</title>\n        </Head>\n\n        <h1>List of posts</h1>\n\n        <section>\n          {this.state.postList.map((post,idx) => (\n            <Post {...post} key={idx} />\n          ))}\n        </section>\n      </main>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}